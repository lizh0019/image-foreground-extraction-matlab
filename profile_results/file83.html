<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><link rel="stylesheet" href="file:///C:\MATLABR14SP3\toolbox\matlab\codetools\matlab-report-styles.css" type="text/css" /><title>Function details for edge>parse_inputs</title><link rel="stylesheet" href="file:///C:\MATLABR14SP3\toolbox\matlab\codetools\matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size: 14pt; padding: 0; background: #FFE4B0">edge>parse_inputs (1 call, 0.000 sec)</span><br/><i>Generated 31-Jul-2008 14:38:47 using real time.</i><br/>M-subfunction in file C:\MATLABR14SP3\toolbox\images\images\edge.m<br/>[Copy to new window for comparing multiple runs]<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file82.html">edge</a></td><td class="td-linebottomrt">M-function</td><td class="td-linebottomrt">1</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line567">567</a></td><td class="td-linebottomrt"><pre>Method='sobel';</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0.000 s</td><td class="td-linebottomrt" class="td-linebottomrt">27.6%</td><td class="td-linebottomrt"><img src="file:///C:\MATLABR14SP3\toolbox\matlab\codetools\private\one-pixel.gif" width=28 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line618">618</a></td><td class="td-linebottomrt"><pre>msg_invalidArgs = 'Invalid inp...</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0.000 s</td><td class="td-linebottomrt" class="td-linebottomrt">12.0%</td><td class="td-linebottomrt"><img src="file:///C:\MATLABR14SP3\toolbox\matlab\codetools\private\one-pixel.gif" width=12 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line568">568</a></td><td class="td-linebottomrt"><pre>Thresh=[];</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0.000 s</td><td class="td-linebottomrt" class="td-linebottomrt">11.7%</td><td class="td-linebottomrt"><img src="file:///C:\MATLABR14SP3\toolbox\matlab\codetools\private\one-pixel.gif" width=12 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line583">583</a></td><td class="td-linebottomrt"><pre>nonstr = [];   % ordered indic...</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0.000 s</td><td class="td-linebottomrt" class="td-linebottomrt">8.4%</td><td class="td-linebottomrt"><img src="file:///C:\MATLABR14SP3\toolbox\matlab\codetools\private\one-pixel.gif" width=8 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line569">569</a></td><td class="td-linebottomrt"><pre>Direction='both';</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0.000 s</td><td class="td-linebottomrt" class="td-linebottomrt">7.5%</td><td class="td-linebottomrt"><img src="file:///C:\MATLABR14SP3\toolbox\matlab\codetools\private\one-pixel.gif" width=8 height=10></td></tr><tr><td class="td-linebottomrt">Other lines &amp; overhead</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:///C:\MATLABR14SP3\toolbox\matlab\codetools\private\one-pixel.gif" width=-67 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">0.000 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file19.html">iptcheckinput</a></td><td class="td-linebottomrt">MEX-function</td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:///C:\MATLABR14SP3\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file40.html">cell.strmatch</a></td><td class="td-linebottomrt">M-function</td><td class="td-linebottomrt">3</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:///C:\MATLABR14SP3\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:///C:\MATLABR14SP3\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">0.000 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>M-Lint results</strong><br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Message</td></tr></table><div class="grayline"/><strong>Coverage results</strong><br/>[ Show coverage for parent directory ]<br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in file</td><td class="td-linebottomrt">176</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">34</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">142</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">36</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">106</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">25.35 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0"> 551</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">function [I,Method,Thresh,Sigma,Thinning,H,kx,ky] = parse_inputs(varargin)</span><br/>               <span style="color: #A0A0A0"> 552</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">% OUTPUTS:</span><br/>               <span style="color: #A0A0A0"> 553</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">%   I      Image Data</span><br/>               <span style="color: #A0A0A0"> 554</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">%   Method Edge detection method</span><br/>               <span style="color: #A0A0A0"> 555</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">%   Thresh Threshold value</span><br/>               <span style="color: #A0A0A0"> 556</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">%   Sigma  standard deviation of Gaussian</span><br/>               <span style="color: #A0A0A0"> 557</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">%   H      Filter for Zero-crossing detection</span><br/>               <span style="color: #A0A0A0"> 558</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">%   kx,ky  From Directionality vector</span><br/>               <span style="color: #A0A0A0"> 559</span> <span style="color: #228B22; background: #FFFFFF; padding: 1"></span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 560</span> <span style="color: #000000; background: #FFFFFF; padding: 1">error(nargchk(1,5,nargin,'struct')); </span><br/>               <span style="color: #A0A0A0"> 561</span> <span style="color: #228B22; background: #FFFFFF; padding: 1"></span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 562</span> <span style="color: #000000; background: #FFFFFF; padding: 1">I = varargin{1}; </span><br/>               <span style="color: #A0A0A0"> 563</span> <span style="color: #228B22; background: #FFFFFF; padding: 1"></span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 564</span> <span style="color: #000000; background: #FFFFFF; padding: 1"><a href="file19.html">iptcheckinput</a>(I,{'numeric'},{'nonsparse','2d'},mfilename,'I',1); </span><br/>               <span style="color: #A0A0A0"> 565</span> <span style="color: #228B22; background: #FFFFFF; padding: 1"></span><br/>               <span style="color: #A0A0A0"> 566</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">% Defaults</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 567</span> <a name="Line567"></a><span style="color: #000000; background: #FF8080; padding: 1">Method='sobel'; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 568</span> <a name="Line568"></a><span style="color: #000000; background: #FFC6C6; padding: 1">Thresh=[]; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 569</span> <a name="Line569"></a><span style="color: #000000; background: #FFE2E2; padding: 1">Direction='both'; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 570</span> <span style="color: #000000; background: #FFFFFF; padding: 1">Thinning=true; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 571</span> <span style="color: #000000; background: #FFFFFF; padding: 1">Sigma=2; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 572</span> <span style="color: #000000; background: #FFE2E2; padding: 1">H=[]; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 573</span> <span style="color: #000000; background: #FFE2E2; padding: 1">K=[1 1]; </span><br/>               <span style="color: #A0A0A0"> 574</span> <span style="color: #228B22; background: #FFFFFF; padding: 1"></span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 575</span> <span style="color: #000000; background: #FFF0F0; padding: 1">methods = {'canny','prewitt','sobel','marr-hildreth','log','roberts','zerocross'}; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 576</span> <span style="color: #000000; background: #FFE2E2; padding: 1">directions = {'both','horizontal','vertical'}; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 577</span> <span style="color: #000000; background: #FFF0F0; padding: 1">options = {'thinning','nothinning'}; </span><br/>               <span style="color: #A0A0A0"> 578</span> <span style="color: #228B22; background: #FFFFFF; padding: 1"></span><br/>               <span style="color: #A0A0A0"> 579</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">% Now parse the nargin-1 remaining input arguments</span><br/>               <span style="color: #A0A0A0"> 580</span> <span style="color: #228B22; background: #FFFFFF; padding: 1"></span><br/>               <span style="color: #A0A0A0"> 581</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">% First get the strings - we do this because the intepretation of the </span><br/>               <span style="color: #A0A0A0"> 582</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">% rest of the arguments will depend on the method.</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 583</span> <a name="Line583"></a><span style="color: #000000; background: #FFD4D4; padding: 1">nonstr = [];   % ordered indices of non-string arguments </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 584</span> <span style="color: #000000; background: #FFFFFF; padding: 1">for i = 2:nargin </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 585</span> <span style="color: #000000; background: #FFFFFF; padding: 1">  if ischar(varargin{i}) </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 586</span> <span style="color: #000000; background: #FFFFFF; padding: 1">    str = lower(varargin{i}); </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 587</span> <span style="color: #000000; background: #FFFFFF; padding: 1">    j = strmatch(str,methods); </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 588</span> <span style="color: #000000; background: #FFFFFF; padding: 1">    k = strmatch(str,directions); </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 589</span> <span style="color: #000000; background: #FFFFFF; padding: 1">    l = strmatch(str,options); </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 590</span> <span style="color: #000000; background: #FFFFFF; padding: 1">    if ~isempty(j) </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 591</span> <span style="color: #000000; background: #FFFFFF; padding: 1">      Method = methods{j(1)}; </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 592</span> <span style="color: #000000; background: #FFFFFF; padding: 1">      if strcmp(Method,'marr-hildreth')   </span><br/>               <span style="color: #A0A0A0"> 593</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">        wid = sprintf('Images:%s:obsoleteMarrHildrethSyntax', mfilename);</span><br/>               <span style="color: #A0A0A0"> 594</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">        msg = '''Marr-Hildreth'' is an obsolete syntax, use ''LoG'' instead.';</span><br/>               <span style="color: #A0A0A0"> 595</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">        warning(wid,'%s',msg);</span><br/>               <span style="color: #A0A0A0"> 596</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      end</span><br/>               <span style="color: #A0A0A0"> 597</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    elseif ~isempty(k)</span><br/>               <span style="color: #A0A0A0"> 598</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      Direction = directions{k(1)};</span><br/>               <span style="color: #A0A0A0"> 599</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    elseif ~isempty(l)</span><br/>               <span style="color: #A0A0A0"> 600</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      if strcmp(options{l(1)},'thinning')</span><br/>               <span style="color: #A0A0A0"> 601</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">        Thinning = true;</span><br/>               <span style="color: #A0A0A0"> 602</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      else</span><br/>               <span style="color: #A0A0A0"> 603</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">        Thinning = false;</span><br/>               <span style="color: #A0A0A0"> 604</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      end</span><br/>               <span style="color: #A0A0A0"> 605</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    else</span><br/>               <span style="color: #A0A0A0"> 606</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      eid = sprintf('Images:%s:invalidInputString', mfilename);</span><br/>               <span style="color: #A0A0A0"> 607</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      msg = sprintf('%s%s%s', 'Invalid input string: ''', varargin{i},'''.');</span><br/>               <span style="color: #A0A0A0"> 608</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      error(eid,'%s',msg);</span><br/>               <span style="color: #A0A0A0"> 609</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    end</span><br/>               <span style="color: #A0A0A0"> 610</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  else</span><br/>               <span style="color: #A0A0A0"> 611</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    nonstr = [nonstr i];</span><br/>               <span style="color: #A0A0A0"> 612</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  end</span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 613</span> <span style="color: #000000; background: #FFFFFF; padding: 1">end </span><br/>               <span style="color: #A0A0A0"> 614</span> <span style="color: #228B22; background: #FFFFFF; padding: 1"></span><br/>               <span style="color: #A0A0A0"> 615</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">% Now get the rest of the arguments </span><br/>               <span style="color: #A0A0A0"> 616</span> <span style="color: #228B22; background: #FFFFFF; padding: 1"></span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 617</span> <span style="color: #000000; background: #FFFFFF; padding: 1">eid_invalidArgs = sprintf('Images:%s:invalidInputArguments', mfilename); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 618</span> <a name="Line618"></a><span style="color: #000000; background: #FFC6C6; padding: 1">msg_invalidArgs = 'Invalid input arguments'; </span><br/>               <span style="color: #A0A0A0"> 619</span> <span style="color: #228B22; background: #FFFFFF; padding: 1"></span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 620</span> <span style="color: #000000; background: #FFFFFF; padding: 1">switch Method </span><br/>               <span style="color: #A0A0A0"> 621</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">  </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 622</span> <span style="color: #000000; background: #FFFFFF; padding: 1"> case {'prewitt','sobel','roberts'} </span><br/>               <span style="color: #A0A0A0"> 623</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  threshSpecified = 0;  % Threshold is not yet specified</span><br/>               <span style="color: #A0A0A0"> 624</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  for i = nonstr</span><br/>               <span style="color: #A0A0A0"> 625</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    if numel(varargin{i})&lt;=1 &amp;&amp; ~threshSpecified % Scalar or empty</span><br/>               <span style="color: #A0A0A0"> 626</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      Thresh = varargin{i};</span><br/>               <span style="color: #A0A0A0"> 627</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      threshSpecified = 1;</span><br/>               <span style="color: #A0A0A0"> 628</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    elseif numel(varargin{i})==2  % The dreaded K vector</span><br/>               <span style="color: #A0A0A0"> 629</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      wid = sprintf('Images:%s:obsoleteKDirectionSyntax', mfilename);</span><br/>               <span style="color: #A0A0A0"> 630</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      msg = sprintf('%s%s%s', 'BW = EDGE(... , K) is an obsolete syntax. ',...</span><br/>               <span style="color: #A0A0A0"> 631</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">                    'Use BW = EDGE(... , DIRECTION),',...</span><br/>               <span style="color: #A0A0A0"> 632</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">                    ' where DIRECTION is a string.');</span><br/>               <span style="color: #A0A0A0"> 633</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      warning(wid,'%s',msg);</span><br/>               <span style="color: #A0A0A0"> 634</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      K=varargin{i};     </span><br/>               <span style="color: #A0A0A0"> 635</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    else</span><br/>               <span style="color: #A0A0A0"> 636</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      error(eid_invalidArgs,msg_invalidArgs);</span><br/>               <span style="color: #A0A0A0"> 637</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    end</span><br/>               <span style="color: #A0A0A0"> 638</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  end</span><br/>               <span style="color: #A0A0A0"> 639</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">  </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 640</span> <span style="color: #000000; background: #FFFFFF; padding: 1"> case 'canny' </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 641</span> <span style="color: #000000; background: #FFFFFF; padding: 1">  Sigma = 1.0;          % Default Std dev of gaussian for canny </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 642</span> <span style="color: #000000; background: #FFFFFF; padding: 1">  threshSpecified = 0;  % Threshold is not yet specified </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 643</span> <span style="color: #000000; background: #FFFFFF; padding: 1">  for i = nonstr </span><br/>               <span style="color: #A0A0A0"> 644</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    if numel(varargin{i})==2 &amp;&amp; ~threshSpecified</span><br/>               <span style="color: #A0A0A0"> 645</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      Thresh = varargin{i};</span><br/>               <span style="color: #A0A0A0"> 646</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      threshSpecified = 1;</span><br/>               <span style="color: #A0A0A0"> 647</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    elseif numel(varargin{i})==1 </span><br/>               <span style="color: #A0A0A0"> 648</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      if ~threshSpecified</span><br/>               <span style="color: #A0A0A0"> 649</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">        Thresh = varargin{i};</span><br/>               <span style="color: #A0A0A0"> 650</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">        threshSpecified = 1;</span><br/>               <span style="color: #A0A0A0"> 651</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      else</span><br/>               <span style="color: #A0A0A0"> 652</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">        Sigma = varargin{i};</span><br/>               <span style="color: #A0A0A0"> 653</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      end</span><br/>               <span style="color: #A0A0A0"> 654</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    elseif isempty(varargin{i}) &amp;&amp; ~threshSpecified</span><br/>               <span style="color: #A0A0A0"> 655</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      threshSpecified = 1;</span><br/>               <span style="color: #A0A0A0"> 656</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    else</span><br/>               <span style="color: #A0A0A0"> 657</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      error(eid_invalidArgs,msg_invalidArgs);</span><br/>               <span style="color: #A0A0A0"> 658</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    end</span><br/>               <span style="color: #A0A0A0"> 659</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  end</span><br/>               <span style="color: #A0A0A0"> 660</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">  </span><br/>               <span style="color: #A0A0A0"> 661</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1"> case 'log'</span><br/>               <span style="color: #A0A0A0"> 662</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  threshSpecified = 0;  % Threshold is not yet specified</span><br/>               <span style="color: #A0A0A0"> 663</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  for i = nonstr</span><br/>               <span style="color: #A0A0A0"> 664</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    if numel(varargin{i})&lt;=1  % Scalar or empty</span><br/>               <span style="color: #A0A0A0"> 665</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      if ~threshSpecified</span><br/>               <span style="color: #A0A0A0"> 666</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">        Thresh = varargin{i};</span><br/>               <span style="color: #A0A0A0"> 667</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">        threshSpecified = 1;</span><br/>               <span style="color: #A0A0A0"> 668</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      else</span><br/>               <span style="color: #A0A0A0"> 669</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">        Sigma = varargin{i};</span><br/>               <span style="color: #A0A0A0"> 670</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      end</span><br/>               <span style="color: #A0A0A0"> 671</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    else</span><br/>               <span style="color: #A0A0A0"> 672</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      error(eid_invalidArgs,msg_invalidArgs);</span><br/>               <span style="color: #A0A0A0"> 673</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    end</span><br/>               <span style="color: #A0A0A0"> 674</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  end</span><br/>               <span style="color: #A0A0A0"> 675</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">  </span><br/>               <span style="color: #A0A0A0"> 676</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1"> case 'zerocross'</span><br/>               <span style="color: #A0A0A0"> 677</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  threshSpecified = 0;  % Threshold is not yet specified</span><br/>               <span style="color: #A0A0A0"> 678</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  for i = nonstr</span><br/>               <span style="color: #A0A0A0"> 679</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    if numel(varargin{i})&lt;=1 &amp;&amp; ~threshSpecified % Scalar or empty</span><br/>               <span style="color: #A0A0A0"> 680</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      Thresh = varargin{i};</span><br/>               <span style="color: #A0A0A0"> 681</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      threshSpecified = 1;</span><br/>               <span style="color: #A0A0A0"> 682</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    elseif numel(varargin{i}) &gt; 1 % The filter for zerocross</span><br/>               <span style="color: #A0A0A0"> 683</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      H = varargin{i};</span><br/>               <span style="color: #A0A0A0"> 684</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    else</span><br/>               <span style="color: #A0A0A0"> 685</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      error(eid_invalidArgs,msg_invalidArgs);</span><br/>               <span style="color: #A0A0A0"> 686</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    end</span><br/>               <span style="color: #A0A0A0"> 687</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  end</span><br/>               <span style="color: #A0A0A0"> 688</span> <span style="color: #228B22; background: #FFFFFF; padding: 1"></span><br/>               <span style="color: #A0A0A0"> 689</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1"> case 'marr-hildreth'</span><br/>               <span style="color: #A0A0A0"> 690</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  for i = nonstr</span><br/>               <span style="color: #A0A0A0"> 691</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    if numel(varargin{i})&lt;=1  % Scalar or empty</span><br/>               <span style="color: #A0A0A0"> 692</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      Thresh = varargin{i};</span><br/>               <span style="color: #A0A0A0"> 693</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    elseif numel(varargin{i})==2  % The dreaded K vector </span><br/>               <span style="color: #A0A0A0"> 694</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      wid = sprintf('Images:%s:dirFactorHasNoEffectOnMarrHildreth', mfilename);</span><br/>               <span style="color: #A0A0A0"> 695</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      msg = 'The [kx ky] direction factor has no effect for ''Marr-Hildreth''.';        </span><br/>               <span style="color: #A0A0A0"> 696</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      warning(wid,'%s',msg);</span><br/>               <span style="color: #A0A0A0"> 697</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    elseif numel(varargin{i}) &gt; 2 % The filter for zerocross</span><br/>               <span style="color: #A0A0A0"> 698</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      H = varargin{i};</span><br/>               <span style="color: #A0A0A0"> 699</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    else</span><br/>               <span style="color: #A0A0A0"> 700</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">      error(eid_invalidArgs,msg_invalidArgs);</span><br/>               <span style="color: #A0A0A0"> 701</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">    end</span><br/>               <span style="color: #A0A0A0"> 702</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  end</span><br/>               <span style="color: #A0A0A0"> 703</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">  </span><br/>               <span style="color: #A0A0A0"> 704</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1"> otherwise</span><br/>               <span style="color: #A0A0A0"> 705</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  error(eid_invalidArgs,msg_invalidArgs);</span><br/>               <span style="color: #A0A0A0"> 706</span> <span style="color: #228B22; background: #FFFFFF; padding: 1">  </span><br/>               <span style="color: #A0A0A0"> 707</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">end   </span><br/>               <span style="color: #A0A0A0"> 708</span> <span style="color: #228B22; background: #FFFFFF; padding: 1"></span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 709</span> <span style="color: #000000; background: #FFFFFF; padding: 1">if Sigma&lt;=0 </span><br/>               <span style="color: #A0A0A0"> 710</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  eid = sprintf('Images:%s:sigmaMustBePositive', mfilename);</span><br/>               <span style="color: #A0A0A0"> 711</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  msg = 'Sigma must be positive'; </span><br/>               <span style="color: #A0A0A0"> 712</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  error(eid,'%s',msg);</span><br/>               <span style="color: #A0A0A0"> 713</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">end</span><br/>               <span style="color: #A0A0A0"> 714</span> <span style="color: #228B22; background: #FFFFFF; padding: 1"></span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 715</span> <span style="color: #000000; background: #FFFFFF; padding: 1">switch Direction </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 716</span> <span style="color: #000000; background: #FFFFFF; padding: 1"> case 'both', </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 717</span> <span style="color: #000000; background: #FFF0F0; padding: 1">  kx = K(1); ky = K(2);  </span><br/>               <span style="color: #A0A0A0"> 718</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1"> case 'horizontal',</span><br/>               <span style="color: #A0A0A0"> 719</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  kx = 0; ky = 1; % Directionality factor</span><br/>               <span style="color: #A0A0A0"> 720</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1"> case 'vertical',</span><br/>               <span style="color: #A0A0A0"> 721</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  kx = 1; ky = 0; % Directionality factor</span><br/>               <span style="color: #A0A0A0"> 722</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1"> otherwise</span><br/>               <span style="color: #A0A0A0"> 723</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  eid = sprintf('Images:%s:badDirectionString', mfilename);</span><br/>               <span style="color: #A0A0A0"> 724</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  msg = 'Unrecognized direction string'; </span><br/>               <span style="color: #A0A0A0"> 725</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">  error(eid,'%s',msg);</span><br/>               <span style="color: #A0A0A0"> 726</span> <span style="color: #A0A0A0; background: #FFFFFF; padding: 1">end</span><br/></pre></body></html>